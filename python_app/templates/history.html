{% extends "base.html" %}

{% block content %}
<div class="history-page">
    <h1 class="page-title">Scan History</h1>
    
    {% if scans %}
    <div class="scans-list">
        {% for scan in scans %}
        <div class="scan-card">
            <div class="scan-header">
                <h3 class="scan-name">{{ scan.name or 'Unknown' }}</h3>
                <span class="confidence-badge {% if scan.confidence and scan.confidence >= 0.8 %}high{% elif scan.confidence and scan.confidence >= 0.5 %}medium{% else %}low{% endif %}">
                    {{ (scan.confidence * 100)|int if scan.confidence else 0 }}%
                </span>
            </div>
            
            <div class="scan-details">
                {% if scan.series %}
                <span class="scan-tag">{{ scan.series }}</span>
                {% endif %}
                {% if scan.attribute %}
                <span class="scan-tag attribute-{{ scan.attribute|lower }}">{{ scan.attribute }}</span>
                {% endif %}
                {% if scan.g_power %}
                <span class="scan-tag">{{ scan.g_power }} Gs</span>
                {% endif %}
                {% if scan.rarity %}
                <span class="scan-tag rarity">{{ scan.rarity }}</span>
                {% endif %}
            </div>
            
            {% if scan.description %}
            <p class="scan-description">{{ scan.description }}</p>
            {% endif %}
            
            <div class="scan-time">
                {{ scan.created_at.strftime('%b %d, %Y at %I:%M %p') if scan.created_at else '' }}
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="empty-state">
        <svg viewBox="0 0 24 24" width="64" height="64">
            <path fill="currentColor" d="M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V5h14v14zm-7-2h2v-4h4v-2h-4V7h-2v4H8v2h4z" opacity="0.3"/>
        </svg>
        <h2>No scans yet</h2>
        <p>Scan your first Bakugan to start building your collection history.</p>
        <a href="/" class="btn btn-primary">Start Scanning</a>
    </div>
    {% endif %}
</div>
{% endblock %}
